@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --background-image-gradient-radial: radial-gradient(var(--tw-gradient-stops));
  --background-image-gradient-conic: conic-gradient(
    from 180deg at 50% 50%,
    var(--tw-gradient-stops)
  );

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* Ultra-thin 0.5px border width */
  --default-border-width: 0.5px;

  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-success: hsl(var(--success));
  --color-success-foreground: hsl(var(--success-foreground));

  --color-warning: hsl(var(--warning));
  --color-warning-foreground: hsl(var(--warning-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  /* Linear Shadow System - OKLCH-based shadows */
  --shadow-xs: 0 1px 2px 0 oklch(0.10 0.01 285 / 0.05);
  --shadow-sm: 0 1px 2px 0 oklch(0.10 0.01 285 / 0.05);
  --shadow-md: 0 4px 6px -1px oklch(0.10 0.01 285 / 0.1), 0 2px 4px -2px oklch(0.10 0.01 285 / 0.1);
  --shadow-lg: 0 10px 15px -3px oklch(0.10 0.01 285 / 0.1), 0 4px 6px -4px oklch(0.10 0.01 285 / 0.1);
  --shadow-xl: 0 20px 25px -5px oklch(0.10 0.01 285 / 0.1), 0 8px 10px -6px oklch(0.10 0.01 285 / 0.1);
  --shadow-2xl: 0 25px 50px -12px oklch(0.10 0.01 285 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 oklch(0.10 0.01 285 / 0.05);

  /* Button Inner Shadow (David UI) */
  --shadow-button-inset: inset 0 1px 0px rgba(255,255,255,0.25), inset 0 -2px 0px rgba(0,0,0,0.35);

  /* Colored Shadows for Linear Brand Elements */
  --shadow-primary: 0 8px 16px -4px oklch(0.65 0.25 285 / 0.3);
  --shadow-secondary: 0 8px 16px -4px oklch(0.60 0.22 290 / 0.3);
  --shadow-accent: 0 8px 16px -4px oklch(0.75 0.20 280 / 0.3);

  /* Enhanced Border Radius */
  --radius-xs: 4px;
  --radius-2xl: 20px;
  --radius-3xl: 24px;
  --radius-full: 9999px;

  /* Spacing System */
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;
  --space-3xl: 64px;

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility text-balance {
  text-wrap: balance;
}

@utility bg-theme-primary {
  /* Custom Light Theme Utility Classes */
  background-color: var(--theme-color);
}

@utility bg-theme-secondary {
  background-color: var(--secondary-color);
}

@utility text-theme-primary {
  color: var(--theme-color);
}

@utility text-theme-secondary {
  color: var(--secondary-color);
}

@utility text-theme-text {
  color: var(--text-color);
}

@utility text-theme-title {
  color: var(--title-color);
}

@utility border-theme-primary {
  border-color: var(--theme-color);
}

@utility border-theme-secondary {
  border-color: var(--secondary-color);
}

@utility bg-accent-pink {
  /* Accent Colors */
  background-color: var(--pink-color);
}

@utility bg-accent-violet {
  background-color: var(--violet-color);
}

@utility bg-accent-crimson {
  background-color: var(--crimson-color);
}

@utility bg-accent-orange {
  background-color: var(--orange-color);
}

@utility text-accent-pink {
  color: var(--pink-color);
}

@utility text-accent-violet {
  color: var(--violet-color);
}

@utility text-accent-crimson {
  color: var(--crimson-color);
}

@utility text-accent-orange {
  color: var(--orange-color);
}

@utility gradient-theme-primary {
  /* xCOA专用渐变背景 */
  background: linear-gradient(
    135deg,
    var(--theme-color) 0%,
    var(--secondary-color) 100%
  );
}

@utility gradient-theme-accent {
  background: linear-gradient(
    135deg,
    var(--pink-color) 0%,
    var(--violet-color) 100%
  );
}

@utility gradient-theme-warm {
  background: linear-gradient(
    135deg,
    var(--theme-color) 0%,
    var(--orange-color) 100%
  );
}

/* Modern Shadow Utilities */
@utility shadow-xs {
  box-shadow: var(--shadow-xs);
}

@utility shadow-primary {
  box-shadow: var(--shadow-primary);
}

@utility shadow-secondary {
  box-shadow: var(--shadow-secondary);
}

@utility shadow-accent {
  box-shadow: var(--shadow-accent);
}

/* David UI Button Inner Shadow */
@utility shadow-button-inset {
  box-shadow: var(--shadow-button-inset);
}

/* Smooth Transitions */
@utility transition-smooth {
  transition: all 200ms ease-in-out;
}

@utility transition-fast {
  transition: all 150ms ease-in-out;
}

@utility transition-slow {
  transition: all 300ms ease-in-out;
}

@utility transition-david {
  transition: all 300ms ease-in;
}

/* Glassmorphism Effect */
@utility glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

@utility glass-dark {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Focus Ring */
@utility focus-ring-primary {
  outline: none;
  box-shadow: 0 0 0 3px rgba(6, 74, 203, 0.2);
}

/* Ultra-thin 0.5px Border Effect */
@utility border-thin {
  border-width: 0.5px;
}

@layer utilities {
  :root {
    --foreground-rgb: 0, 0, 0;
    --background-start-rgb: 214, 219, 220;
    --background-end-rgb: 255, 255, 255;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --foreground-rgb: 255, 255, 255;
      --background-start-rgb: 0, 0, 0;
      --background-end-rgb: 0, 0, 0;
    }
  }
}

@layer base {
  :root {
    /* Custom Light Theme Colors */
    --theme-color: #635BFF;
    --secondary-color: #064ACB;
    --pink-color: #FFC0CB;
    --violet-color: #7F00FF;
    --crimson-color: #DC143C;
    --orange-color: #FF6500; /* 修正为橙色，原配置中的#00FF00是绿色 */
    --text-color: #717171;
    --title-color: #111111;
    
    /* Shadcn UI Variables with Custom Colors */
    --background: 0 0% 100%;
    --foreground: 210 7% 7%; /* 使用title-color */
    --card: 0 0% 100%;
    --card-foreground: 210 7% 7%;
    --popover: 0 0% 100%;
    --popover-foreground: 210 7% 7%;
    --primary: 214 100% 41%; /* 使用secondary-color */
    --primary-foreground: 0 0% 98%;
    --secondary: 244 63% 67%; /* 使用theme-color #635BFF */
    --secondary-foreground: 210 7% 7%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 0 0% 44%; /* 使用text-color */
    --accent: 244 75% 85%; /* 基于theme-color的中等明度版本，保持色相一致 */
    --accent-foreground: 244 100% 25%; /* 深色文字，确保对比度 */
    --destructive: 348 100% 55%; /* 使用crimson-color */
    --destructive-foreground: 0 0% 100%;
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 214 100% 41%;
    --link: 214 100% 41%;
    --chart-1: 244 63% 67%; /* theme-color #635BFF */
    --chart-2: 214 100% 41%; /* secondary-color */
    --chart-3: 300 100% 50%; /* violet-color */
    --chart-4: 348 100% 55%; /* crimson-color */
    --chart-5: 22 100% 50%; /* orange-color */
    --radius: 0.5rem;
    --sidebar-background: 0 0% 97%;
    --sidebar-foreground: var(--foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
  }
  .dark {
    /* Linear Dark Modern Theme - Extracted from linear.app */

    /* Surface colors using OKLCH */
    --linear-background: oklch(0.12 0.01 285);
    --linear-elevated: oklch(0.16 0.01 285);
    --linear-card: oklch(0.14 0.01 285);
    --linear-overlay: oklch(0.10 0.01 285);

    /* Brand colors */
    --linear-primary: oklch(0.65 0.25 285);
    --linear-primary-hover: oklch(0.70 0.25 285);
    --linear-secondary: oklch(0.60 0.22 290);
    --linear-accent: oklch(0.75 0.20 280);

    /* Text colors */
    --linear-text-primary: oklch(0.95 0.01 285);
    --linear-text-secondary: oklch(0.70 0.02 285);
    --linear-text-tertiary: oklch(0.50 0.02 285);
    --linear-text-disabled: oklch(0.35 0.01 285);

    /* Border colors */
    --linear-border-default: oklch(0.25 0.01 285);
    --linear-border-hover: oklch(0.35 0.02 285);
    --linear-border-focus: oklch(0.65 0.25 285);
    --linear-border-subtle: oklch(0.18 0.01 285);

    /* Semantic colors */
    --linear-success: oklch(0.65 0.20 145);
    --linear-warning: oklch(0.70 0.20 85);
    --linear-error: oklch(0.60 0.25 25);
    --linear-info: oklch(0.65 0.20 240);

    /* Shadcn UI mapping to Linear theme */
    --background: var(--linear-background);
    --foreground: var(--linear-text-primary);
    --card: var(--linear-card);
    --card-foreground: var(--linear-text-primary);
    --popover: var(--linear-elevated);
    --popover-foreground: var(--linear-text-primary);
    --primary: var(--linear-primary);
    --primary-foreground: var(--linear-text-primary);
    --secondary: var(--linear-secondary);
    --secondary-foreground: var(--linear-text-primary);
    --muted: var(--linear-elevated);
    --muted-foreground: var(--linear-text-secondary);
    --accent: var(--linear-accent);
    --accent-foreground: var(--linear-text-primary);
    --destructive: var(--linear-error);
    --destructive-foreground: var(--linear-text-primary);
    --success: var(--linear-success);
    --success-foreground: var(--linear-text-primary);
    --warning: var(--linear-warning);
    --warning-foreground: var(--linear-text-primary);
    --border: 180 7% 97%; /* rgb(247, 248, 248) - Custom lighter border */
    --input: var(--linear-border-default);
    --ring: var(--linear-border-focus);

    /* Chart colors with Linear purple theme */
    --chart-1: oklch(0.65 0.25 285);
    --chart-2: oklch(0.60 0.22 290);
    --chart-3: oklch(0.75 0.20 280);
    --chart-4: oklch(0.65 0.20 145);
    --chart-5: oklch(0.65 0.20 240);

    /* Sidebar using Linear theme */
    --sidebar-background: var(--linear-background);
    --sidebar-foreground: var(--linear-text-primary);
    --sidebar-primary: var(--linear-primary);
    --sidebar-primary-foreground: var(--linear-text-primary);
    --sidebar-accent: var(--linear-elevated);
    --sidebar-accent-foreground: var(--linear-text-secondary);
    --sidebar-border: var(--linear-border-subtle);
    --sidebar-ring: var(--linear-border-focus);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }

  /* Dark theme border color override with rgba */
  .dark *,
  .dark ::after,
  .dark ::before {
    border-color: rgba(255, 255, 255, 0.05);
  }

  /* Apply 0.5px border width to all elements with border classes */
  .border,
  .border-t,
  .border-r,
  .border-b,
  .border-l,
  .border-x,
  .border-y {
    border-width: 0.5px;
  }

  /* Specific directional borders */
  .border-t {
    border-top-width: 0.5px;
    border-right-width: 0;
    border-bottom-width: 0;
    border-left-width: 0;
  }

  .border-r {
    border-top-width: 0;
    border-right-width: 0.5px;
    border-bottom-width: 0;
    border-left-width: 0;
  }

  .border-b {
    border-top-width: 0;
    border-right-width: 0;
    border-bottom-width: 0.5px;
    border-left-width: 0;
  }

  .border-l {
    border-top-width: 0;
    border-right-width: 0;
    border-bottom-width: 0;
    border-left-width: 0.5px;
  }

  .border-x {
    border-left-width: 0.5px;
    border-right-width: 0.5px;
    border-top-width: 0;
    border-bottom-width: 0;
  }

  .border-y {
    border-top-width: 0.5px;
    border-bottom-width: 0.5px;
    border-left-width: 0;
    border-right-width: 0;
  }
}
